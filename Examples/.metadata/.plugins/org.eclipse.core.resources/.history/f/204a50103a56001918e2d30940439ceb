#include "user.h"

uint8_t spiData[3];
uint8_t c = 1;
uint8_t r = 1;
uint16_t tickCtr = 0;

void userInit(){

}

void userLoop(){

	if (tickCtr % 10 == 0){
		sendLED();
	}

	if (tickCtr >= 1000){
		//once a second
		tickCtr = 0;
	}

}

void HAL_SYSTICK_Callback(void)
{
  tickCtr++;
}

void sendLED(){
	spiData[0] = c & 0xFF00;
	spiData[1] = c & 0x00FF;
	spiData[2] = (1 << r);
	HAL_SPI_Transmit(&hspi4, spiData, 3, 10);
}




